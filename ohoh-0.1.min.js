/**
 * ohoh.js
 * =======
 *
 * Version: 0.1
 * Author: Rehan Dalal
 * GitHub: https://github.com/rehandalal/ohoh.js
 * License: MIT License
 *
 * ohoh.js is a simple utility library to assist with event-driven,
 * object-oriented JavaScript.
 *
 * This based on ideas from John Resig's simple JavaScript inheritance
 * (http://ejohn.org/blog/simple-javascript-inheritance/), Oliver Caldwell's
 * EventEmitter (https://github.com/Wolfy87/EventEmitter), and the Node.js
 * Events API (http://nodejs.org/api/events.html).
 */
!function(a){"use strict";function e(a,b){this.type=a,this.target=b,this.timeStamp=(new Date).getTime()}function f(){}function g(a,b){if(Array.prototype.lastIndexOf)return b.lastIndexOf(a);for(var c=b.length-1;c>=0;c--)if(b[c]===a)return c;return-1}var c,d,b=!1;c=/return/.test(function(){return"ok"})?/\b_super\b/:/.*/,d=f.prototype,d._getEvents=function(){return this._events||(this._events={})},d.addListener=function(a,b){var c=this.listeners(a),d=this._maxListeners;return c.push(b),this.emit("newListener",b),d>0&&c.length>d&&console.warn("More than "+this._maxListeners+" listeners assigned to '"+a+"' event."),this},d.on=d.addListener,d.once=function(a,b){function c(){b.apply(this,arguments),this.removeListener(a,c)}return this.addListener(a,c),this},d.removeListener=function(a,b){var c=this.listeners(a),d=g(b,c);return-1!==d&&this.emit("removeListener",c.splice(d,1)),this},d.off=d.removeListener,d.removeAllListeners=function(a){if("undefined"==typeof a)this._events={};else{var b=this.listeners(a);b=[]}return this},d.setMaxListeners=function(a){return this._maxListeners=a,this},d.listeners=function(a){if("undefined"==typeof a)throw"An event type must be provided.";var b=this._getEvents();return b[a]||(b[a]=[])},d.emit=function(a){var b=this.listeners(a),c=b.length,d=Array.prototype.slice.call(arguments);d.unshift(new e(a,this));for(var f=c-1;f>=0;f--)"function"==typeof b[f]&&b[f].apply(this,d);return c>0},d.trigger=d.emit,f.extend=function(a){function g(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}function i(){!b&&this.initialize&&(this._maxListeners=10,this.initialize.apply(this,arguments))}var e,d=this.prototype;b=!0,e=new this,b=!1;for(var h in a)e[h]="function"==typeof a[h]&&"function"==typeof d[h]&&c.test(a[h])?g(h,a[h]):a[h];return i.prototype=e,i.prototype.constructor=i,i.extend=f.extend,i},"function"==typeof define&&define.amd?define(function(){return f}):a.BaseClass=f}(this);
