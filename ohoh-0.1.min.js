/**
 * ohoh.js
 * =======
 *
 * Version: 0.1
 * Author: Rehan Dalal
 * GitHub: https://github.com/rehandalal/ohoh.js
 * License: MIT License
 *
 * ohoh.js is a simple utility library to assist with event-driven,
 * object-oriented JavaScript.
 *
 * This based on ideas from John Resig's simple JavaScript inheritance
 * (http://ejohn.org/blog/simple-javascript-inheritance/), Oliver Caldwell's
 * EventEmitter (https://github.com/Wolfy87/EventEmitter), and the Node.js
 * Events API (http://nodejs.org/api/events.html).
 */
(function(a){"use strict";function d(a,b){this.type=a,this.target=b,this.timeStamp=(new Date).getTime()}function e(){}var c,b=!1;c=/return/.test(function(){return"ok"})?/\b_super\b/:/.*/,e.extend=function(a){function i(){!b&&this.initialize&&(this._maxListeners=10,this.initialize.apply(this,arguments))}function k(a,b){if(Array.prototype.lastIndexOf)return b.lastIndexOf(a);for(var c=b.length-1;c>=0;c--)if(b[c]===a)return c;return-1}var g,f=this.prototype;b=!0,g=new this,b=!1;for(var h in a)g[h]="function"==typeof a[h]&&"function"==typeof f[h]&&c.test(a[h])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);return this._super=c,d}}(h,a[h]):a[h];return g._getEvents=function(){return this._events||(this._events={})},g.addListener=function(a,b){var c=this.listeners(a),d=this._maxListeners;return c.push(b),this.emit("newListener",b),d>0&&c.length>d&&console.warn("More than "+this._maxListeners+" listeners assigned to '"+a+"' event."),this},g.on=g.addListener,g.once=function(a,b){function c(){b.apply(this,arguments),this.removeListener(a,c)}return this.addListener(a,c),this},g.removeListener=function(a,b){var c=this.listeners(a),d=k(b,c);return-1!==d&&this.emit("removeListener",c.splice(d,1)),this},g.off=g.removeListener,g.removeAllListeners=function(a){if(a===void 0)this._events={};else{var b=this.listeners(a);b=[]}return this},g.setMaxListeners=function(a){return this._maxListeners=a,this},g.listeners=function(a){if(a===void 0)throw"An event type must be provided.";var b=this._getEvents();return b[a]||(b[a]=[])},g.emit=function(a){var b=this.listeners(a),c=b.length,e=Array.prototype.slice.call(arguments);e.unshift(new d(a,this));for(var f=c-1;f>=0;f--)"function"==typeof b[f]&&b[f].apply(this,e);return c>0},g.trigger=g.emit,i.prototype=g,i.prototype.constructor=i,i.extend=e.extend,i},"function"==typeof define&&define.amd?define(function(){return e}):a.BaseClass=e})(this);
